<meta title="iSmart UI" />
<div>
    <h2 class="page-header">iSmart UI</h2>
    <p class="lead"><code>iSmart UI</code> 是基于 <code>iSmart JS</code> 开发的一个UI框架，
        它提供了一个整体的前端UI开发视图，当前你访问的页面就是基于该框架构建的，通过它可以快速的构建起管理系统的界面。</p>
    <h3>iSmart UI的文件 <small></small></h3>
    <h4>在下载的文档中example目录下</h4>
    <ol>
        <li><code>index.html</code>：入口文件，该文件定义了加载的主界面，iSmart UI的配置以及iSmart JS的启动</li>
        <li><code>main.html</code>：主界面文件，定义了菜单，主Tab选项，ajax操作监听等</li>
        <li><code>topbar-left.html</code>：顶部导航菜单左边加载的文件，可以在此文件内定义logo</li>
        <li><code>topbar-right.html</code>：顶部导航菜单右边加载的文件，可以在此文件内定义登陆信息</li>
        <li><code>menu.json</code>：菜单定义的json文件，main.html加载的时候会读取该文件进行菜单构建</li>
        <li><code>js/**</code>：js相关定义文件，包括控件插件定义js，ismart的核心文件等</li>
        <li><code>css/**</code>：ismart ui的css文件</li>
    </ol>
    <h3>iSmart UI的定义</h3>
    <p class="lead">打开js目录下 <code>smart.main.js</code> 文件</p>
<pre>
$(function () {
    window.Page = {};
    var href = window.location.href;
    var hash;
    if (href.indexOf("#") != -1) {
        hash = href.substring(href.indexOf("#") + 1);
    }

    Page.Main = {
        menuUrl: "json/menu.json", //菜单加载的url
        defaultIcon: "glyphicon glyphicon-file", //Tab选项卡默认的icon
        topbarRightUrl: "topbar-right.html", //顶部导航条左边加载的页面
        topbarLeftUrl: "topbar-left.html", //顶部导航条右边加载的页面
        historyListener: {
            //监听页面hash的push事件，可以在这里处理当前页面的href
            onPush: function (url) {
                history.replaceState(null, null, "#" + url);
            },
            //当页面加载的时候，读取当前页面的hash，iSmart UI会根据该hash还原当前的页面
            onGet: function () {
                return hash;
            }
        }
    };
    //定义Smart UI用到的模板定义文件，该文件主要为iSmart UI插件提供模板
    Smart.UI.loadTemplate("js/plugins/ui-template.html");
    //构建
    Smart.of($("body")).make();

});
</pre>
    <hr />
    <h3>快速入门，创建第一个页面</h3>
    <h3 class="lead">1. 复制example目录，打开 js/menu.json 文件，添加一个menu</h3>
<pre>
{
    "id": "hello",
    "title": "Hello iSmart",
    "icon": "glyphicon glyphicon-heart",
    "url": "hello.html"
}
</pre>
    <p class="lead">刷新页面，点击菜单按钮，可以看到已经有一个菜单加载进来</p>
    <h3>2. 新建hello.html页面，如下：</h3>
<pre>
&lt;meta title="Hello iSmart" /&gt;
&lt;h2 class="page-header"&gt;Hello iSmart&lt;/h2&gt;
</pre>
    <p class="lead">点击菜单下的 <code>hello</code> 菜单，怎么样，打开了hello.html页面了吧</p>
    <h3>3. 为页面加点料</h3>
    <h4>3.1 监听页面关闭事件</h4>
    <p class="lead">在hello.html页面中创建<code>script</code>标签，如下：</p>
<pre>
&lt;meta title="Hello iSmart" /&gt;
&lt;h2 class="page-header"&gt;Hello iSmart&lt;/h2&gt;
<span class="text-warning">
&lt;script type="text/javascript"&gt;
    S.onBeforeClose(function(){
        var deferred = $.Deferred();//创建一个deferred对象
        //确认关闭
        S.confirm("确认关闭当前页面吗？").done(function(){
            //当点击确认按钮的时候，关闭，否则不关闭
            deferred.resolve();
        });
        //返回deferred对象
        return deferred.promise();//也可以直接返回 deferred
    });
&lt;/script&gt;</span>
</pre>
    <p >点击关闭可以查看效果</p>
    <h4>3.2 使用dialog打开dialog.html</h4>
    <p class="lead">在 hello.html 页面中加入按钮，并定义相关方法，如下：</p>
<pre>
&lt;meta title="Hello iSmart" /&gt;
&lt;h2 class="page-header"&gt;Hello iSmart&lt;/h2&gt;
&lt;input <span class="text-warning" title="定义click控件，并且定义click控件的action为dialogOpen">s='click' s-click-action='dialogOpen()'</span> type="button" class="btn btn-primary" value="对话框打开" /&gt;
&lt;script type="text/javascript"&gt;
    S.onBeforeClose(function(){
        var deferred = $.Deferred();//创建一个deferred对象
        //确认关闭
        S.confirm("确认关闭当前页面吗？").done(function(){
            //当点击确认按钮的时候，关闭，否则不关闭
            deferred.resolve();
        });
        //返回deferred对象
        return deferred.promise();//也可以直接返回 deferred
    });
    <span class="text-warning">function dialogOpen(){
        //打开dialog.html页面并传递参数 i like you
        S.dialogOpen("dialog.html", "i like you").done(function(rs){
            if(rs){
                S.alert("返回的参数是：" + rs);
            }
        })
    }</span>

&lt;/script&gt;
</pre>
    <p class="lead">创建 dialog.html 页面，如下：</p>
<pre>
&lt;meta title="Hello iSmart UI" width="500px" height="200px" args="word"/&gt;
&lt;h2 class="page-header" s s-smart-data="ctx:word"&gt;&lt;/h2&gt;
&lt;script type="text/javascript"&gt;
    <span class="text-warning">//定义dialog页面的btn</span>
    S.meta.btns = [
        {
            name: "关闭并传递参数",
            style: "btn-primary",
            click: function(){
                //关闭页面并传递参数
                S.close("HAHA");
            }
        }
    ]
&lt;/script&gt;
</pre>
    <p>点击按钮查看效果</p>
    <h3>3.3 创建一个Grid</h3>
    <p class="lead">在 hello.html 页面中加入如下：</p>
<pre>
&lt;meta title="Hello iSmart" /&gt;
&lt;h2 class="page-header"&gt;Hello iSmart&lt;/h2&gt;
&lt;input s='click' s-click-action='dialogOpen()' type="button" class="btn btn-primary" value="对话框打开" /&gt;
&lt;span class="text-warning"&gt;&lt;table class="table table-bordered table-striped table-hover" style="width: 500px;"&gt;
    &lt;thead&gt;
    &lt;tr&gt;
        &lt;th&gt;姓名&lt;/th&gt;
        &lt;th&gt;体积&lt;/th&gt;
        &lt;th&gt;类型&lt;/th&gt;
    &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody <abbr class="text-success" title="定义loop和resource控件">s="loop,resource"</abbr> <abbr class="text-success" title="定义resource控件的data资源">s-resource-data-res="json/grid.json"</abbr> &gt;
    &lt;tr <abbr class="text-success" title="定义row节点">s-loop-role="row"</abbr> <abbr class="text-success" title="定义row的控件">s="datac,row"</abbr>&gt;
        &lt;td <abbr class="text-success" title="定义数据key为name">s s-smart-key="name"</abbr>&gt;&lt;/td&gt;
        &lt;td <abbr class="text-success" title="定义数据key为tj">s s-smart-key="tj"</abbr>&gt;&lt;/td&gt;
        &lt;td <abbr class="text-success" title="定义数据key为kind">s s-smart-key="kind"</abbr>&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;&lt;/span&gt;
&lt;script type="text/javascript"&gt;
    S.onBeforeClose(function(){
        var deferred = $.Deferred();//创建一个deferred对象
        //确认关闭
        S.confirm("确认关闭当前页面吗？").done(function(){
            //当点击确认按钮的时候，关闭，否则不关闭
            deferred.resolve();
        });
        //返回deferred对象
        return deferred.promise();//也可以直接返回 deferred
    });
    <span class="text-warning">function dialogOpen(){
        //打开dialog.html页面并传递参数 i like you
        S.dialogOpen("dialog.html", "i like you").done(function(rs){
            if(rs){
                S.alert("返回的参数是：" + rs);
            }
        })
    }</span>

&lt;/script&gt;
</pre>
<p>定义 <code>s="loop,resource" s-resource-data-res="json/grid.json"</code> </p>
<p>在json文件下建立grid.json文件，如下：</p>
<pre>
[
    {
        "name": "Jerry",
        "tj": "Small",
        "kind": "Mouse"
    },
    {
        "name": "Tom",
        "tj": "Big",
        "kind": "Cat"
    }
]
</pre>
<p>刷新页面就能看到效果</p>
<hr />
<p class="lead">至此已经完成了入门，可以查看详细的控件示例，构建所需的控件。</p>
</div>