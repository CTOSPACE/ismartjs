<meta title="iSmart API" />
<div>
    <h2 class="page-header">iSmart API</h2>
    <h3>1. 核心函数</h3>
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>API名称</th>
            <th>返回值</th>
            <th>描述</th>
            <th>其他</th>
        </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>Smart.of(selector)</code></td>
                <td><code>Smart</code></td>
                <td>根据selector的jQuery对象获取其 Smart 对象，selector必须是jQuery对象。</td>
                <td></td>
            </tr>
            <tr>
                <td><code>Smart.pick(nodes)</code></td>
                <td><code>Smart</code></td>
                <td>从nodes中挑选出第一个层级的Smart对象。该方法会遍历每个节点树，直到从这个树路径上找到一个Smart元素为止， 最终返回各个树路径的Smart元素组成的Smart对象</td>
                <td></td>
            </tr>
            <tr>
                <td><code>Smart.extend(obj1[, obj2])</code></td>
                <td><code>Object</code></td>
                <td>扩展obj2的属性方法到obj1上，如果参数只有obj1，则将obj1扩展到Smart本身</td>
                <td></td>
            </tr>
            <tr>
                <td><code>extend(obj1)</code></td>
                <td></td>
                <td>扩展Smart实例本身，为当前实例添加新的方法。如：<code>S.extend({..})</code></td>
                <td></td>
            </tr>
            <tr>
                <td><code>each(fn)</code></td>
                <td></td>
                <td>遍历当前Smart实例，会把每一个匹配的元素的Smart对象作为上下文来执行一个函数。如：
<pre>
Smart.pick(nodes).each(function(i, node){
    i//当前元素的index
    node//当前元素的jQuery对象
    this//当前元素的Smart对象
});
</pre>
                </td>
                <td></td>
            </tr>
            <tr>
                <td><code>parent()</code></td>
                <td><code>Smart</code></td>
                <td>获取当前Smart元素的父Smart元素对象，会从当前元素向上遍历，直到返回第一个Smart元素。如果找不到，则返回window的Smart对象</td>
                <td></td>
            </tr>
            <tr>
                <td><code>isWindow()</code></td>
                <td><code>true|false</code></td>
                <td>判断当前Smart实例是否是window的Smart对象</td>
                <td></td>
            </tr>
            <tr>
                <td><code>add(smart)</code></td>
                <td></td>
                <td>将smart对象的jQuery元素加入到当前的Smart实例的jQuery元素中</td>
                <td></td>
            </tr>
            <tr>
                <td><code>size()</code></td>
                <td></td>
                <td>获取当前Smart实例的节点长度</td>
                <td></td>
            </tr>
            <tr>
                <td><code>find(selector)</code></td>
                <td><code>Smart</code></td>
                <td>返回从当前的jQuery元素中找到selector的元素的Smart对象</td>
                <td></td>
            </tr>
            <tr>
                <td><code>children()</code></td>
                <td><code>Smart</code></td>
                <td>获取当前Smart实例的子Smart元素对象，不同于jQuery的children，该方法会遍历每个节点树，直到从这个树路径上找到一个Smart元素为止，
                    最终返回各个树路径的Smart元素组成的Smart对象</td>
                <td></td>
            </tr>
            <tr>
                <td><code>dataTable(namespace, key, value)</code></td>
                <td><code>this</code></td>
                <td>添加缓存值到当前的Smart对象中，该方法主要用来缓存各个控件的生命周期中产生的数据，
                    namespace应该为控件的id以保证多个控件作用于同一个元素的时候，各个控件之间的数据不会造成冲突。</td>
                <td></td>
            </tr>
            <tr>
                <td><code>removeDataTable(namespace, key)</code></td>
                <td><code>this</code></td>
                <td>移除缓存</td>
                <td></td>
            </tr>
            <tr>
                <td><code>cleanDataTable()</code></td>
                <td><code>this</code></td>
                <td>清空整个缓存</td>
                <td></td>
            </tr>
            <tr>
                <td><code>make()</code></td>
                <td><code>$.Deferred</code></td>
                <td>构建当前控件，该方法亦会构建当前控件的子控件，返回一个$.Deferred对象，该方法是异步方法</td>
                <td></td>
            </tr>
            <tr>
                <td><code>makeChildren()</code></td>
                <td><code>$.Deferred</code></td>
                <td>构建当前控件的子控件，返回一个$.Deferred对象，该方法是异步方法</td>
                <td></td>
            </tr>
        </tbody>
    </table>
    <hr />
    <h3>2. 文档处理</h3>
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>API名称</th>
            <th>返回值</th>
            <th>描述</th>
            <th>其他</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><code>setNode(node)</code></td>
            <td><code>this</code></td>
            <td>设置当前Smart实例元素的子元素，该方法会先清空当前元素的子元素，
                再将node append到当前元素下，然后再挑选出node中的Smart元素进行make处理，在控件开发过程中，
                如果添加进来的node或者其子元素中拥有控件定义并且需要自动make的时候，就使用该方法。</td>
            <td></td>
        </tr>
        <tr>
            <td><code>prependNode(node)</code></td>
            <td><code>this</code></td>
            <td>prepend node到当前元素，并且实现自动make</td>
            <td></td>
        </tr>
        <tr>
            <td><code>appendNode(node)</code></td>
            <td><code>this</code></td>
            <td>append node到当前元素，并且实现自动make</td>
            <td></td>
        </tr>
        </tbody>
    </table>
    <hr />
    <h3>3. 事件</h3>
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>API名称</th>
            <th>返回值</th>
            <th>描述</th>
            <th>其他</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><code>on</code></td>
            <td><code>this</code></td>
            <td>注册事件，同jQuery的on</td>
            <td></td>
        </tr>
        <tr>
            <td><code>off</code></td>
            <td><code>this</code></td>
            <td>同jQuery</td>
            <td></td>
        </tr>
        <tr>
            <td><code>bind</code></td>
            <td><code>this</code></td>
            <td>同jQuery</td>
            <td></td>
        </tr>
        <tr>
            <td><code>trigger</code></td>
            <td><code>this</code></td>
            <td>同jQuery</td>
            <td></td>
        </tr>
        <tr>
            <td><code>unbind</code></td>
            <td><code>this</code></td>
            <td>同jQuery</td>
            <td></td>
        </tr>
        <tr>
            <td><code>onMade(fn)</code></td>
            <td><code>this</code></td>
            <td>注册当构建完成的回调事件，如果当前控件已经构建完成，则直接回调</td>
            <td></td>
        </tr>
        </tbody>
    </table>
    <hr />
    <h3>4. ajax</h3>
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>API名称</th>
            <th>返回值</th>
            <th>描述</th>
            <th>其他</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><code>get(url, data, type, cfg, ajaxSetting)</code></td>
            <td><code>$.Deferred</code></td>
            <td>get请求资源，参数说明：
                <ol>
                    <li><code>url</code>：请求的url</li>
                    <li><code>data</code>：请求的数据</li>
                    <li><code>type</code>：请求的类型，默认为 json，其他类型同jQuery的ajax</li>
                    <li><code>cfg</code>：请求细节的配置，详情：
<pre>
{
    startTip: "正在操作，请稍候……",
    successTip: "操作成功",
    errorTip: "操作失败",
    silent: false, //是否已静默方式执行，如果是，则不会发送start， success事件
    getErrorMsg: fn //处理错误信息的方法，通过该方法获取错误提示
}
</pre>
                    </li>
                    <li><code>ajaxSetting</code>：ajax请求的配置，同jQuery ajax 的请求参数</li>
                </ol>
            </td>
            <td></td>
        </tr>
        <tr>
            <td><code>post(url, data, type, cfg, ajaxSetting)</code></td>
            <td><code>$.Deferred</code></td>
            <td>post请求资源，参数说明同get方法</td>
            <td></td>
        </tr>
        <tr>
            <td><code>put(url, data, type, cfg, ajaxSetting)</code></td>
            <td><code>$.Deferred</code></td>
            <td>put请求资源，参数说明同get方法</td>
            <td></td>
        </tr>
        <tr>
            <td><code>remove(url, data, type, cfg, ajaxSetting)</code></td>
            <td><code>$.Deferred</code></td>
            <td>remove请求资源，参数说明同get方法</td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.ajaxSetup(cfg)</code></td>
            <td></td>
            <td>设置全局的ajax请求的cfg参数。</td>
            <td></td>
        </tr>
        </tbody>
    </table>
    <hr />
    <h3>5. 控件扩展</h3>
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>API名称</th>
            <th>返回值</th>
            <th>描述</th>
            <th>其他</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><code>Smart.widgetExtend(id|def, listener, api)</code></td>
            <td></td>
            <td>具体细节请查看控件定义页面</td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.widgetOptionsExtend(id,options)</code></td>
            <td></td>
            <td>修改控件定义的defaultOptions，可以通过该方法修改全局的控件默认参数值</td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.getWidgetDef(id)</code></td>
            <td></td>
            <td>根据id获取相应的控件定义对象</td>
            <td></td>
        </tr>
        </tbody>
    </table>
    <hr />
    <h3>6. 工具</h3>
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>API名称</th>
            <th>返回值</th>
            <th>描述</th>
            <th>其他</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td><code>Smart.removeArrayElement(el, array)</code></td>
            <td><code>Array</code></td>
            <td>从数组中删除元素，并返回修改后的数组，el为要删除的元素</td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.isEmpty(arg)</code></td>
            <td><code>true|false</code></td>
            <td>判断字符串或者数组是否为空</td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.isSmart(arg)</code></td>
            <td><code>true|false</code></td>
            <td>判断参数是否是 Smart 对象</td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.serializeToObject(form)</code></td>
            <td><code>Object</code></td>
            <td>将form的值序列化成为对象，form必须是form的jQuery对象</td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.formData(nodes)</code></td>
            <td><code>FormData</code></td>
            <td>将node的name和值封装成为一个FormData对象</td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.optionAttrName(widgetId, option)</code></td>
            <td><code>string</code></td>
            <td>根据控件id和配置项获取该配置项在html元素上的配置属性名，如 Smart.optionAttrName('window','href')将会返回 <code>s-window-href</code></td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.deferredQueue([fn,..])</code></td>
            <td><code>$.Deferred</code></td>
            <td>
                异步依次执行函数队列，如果函数返回<code>$.Deferred</code>对象，则证明该函数是异步的，将会等待该函数回调后，
                才会执行下一个函数。如果其中一个函数 reject ，那么之后的函数不会执行，并且整个队列 reject。
            </td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.deferredQueue([fn,..])</code></td>
            <td><code>$.Deferred</code></td>
            <td>
                异步依次执行函数队列，如果函数返回<code>$.Deferred</code>对象，则证明该函数是异步的，将会等待该函数回调后，
                才会执行下一个函数。如果其中一个函数 reject ，那么之后的函数不会执行，并且整个队列 reject。
            </td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.loadFiles(files, baseUrl)</code></td>
            <td><code>$.Deferred</code></td>
            <td>加载文件</td>
            <td></td>
        </tr>
        <tr>
            <td><code>Smart.info(..),Smart.error(..),Smart.warning()</code></td>
            <td><code>无</code></td>
            <td>同console</td>
            <td></td>
        </tr>
        </tbody>
    </table>
</div>