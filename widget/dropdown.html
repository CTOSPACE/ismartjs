<meta title="dropdown筛选器控件"/>
<div>
    <h2 class="page-header">dropdown控件</h2>

    <p class="lead">常出现于表格的表头中，用于条件筛选和排序下拉列表选择</p>
    <hr/>
    <h3>1. 控件定义</h3>

    <p><code>&lt;div s='dropdown' &gt;&lt;/div&gt;</code></p>
    <h4>配置参数</h4>
    <ol>
        <li><code>e</code>：单击下拉选项要触发的事件，默认为 <code>request.data</code> 事件。</li>
        <li><code>name</code>：事件参数的name，如果配置，trigger事件的时候，会传递一个 <code>{name:val}</code> 的参数，如果没有配置，将选项的值直接作为参数进行trigger</li>
        <li><abbr title="闭包参数">ctx</abbr><code>t</code>：target，接受下拉项的值的jQuery对象，当下拉项点击的时候，会把下拉项的值赋值给该jQuery对象</li>
    </ol>
    <h4>其他配置</h4>
    <ol>
        <li><code>s-dropdown-val</code>： 声明下拉项，该属性的值是下拉项的值</li>
        <li><code>s-dropdown-title</code>： 声明下拉项的标题，如果为空，则取该元素的 <code>text()</code> 的值作为下拉项的标题</li>
        <li><code>s-dropdown-role='title'</code>： 声明显示当前下拉项标题的元素。</li>
    </ol>
    <p>通过配置子元素的 <code>s-dropdown-val</code> 属性来声明该元素为下拉器的下拉项，同时可以配置该元素的 <code>s-dropdown-title</code> 值来声明下拉项的title</p>
    <h3>2. 示例</h3>
    <form class="form-inline">
        <label>状态值：</label><input type="text" class="form-control" id="statusValue" style="width: 150px;" />
        <label>创建时间值：</label><input type="text" class="form-control" id="createTimeValue" style="width: 150px;" />
    </form>
    <table class="table table-hover ecs-server-list" style="width: 500px;">
        <thead>
            <tr>
                <th>用户名</th>
                <th>
                    <div id="statusDropdown" class="dropdown" s="dropdown" s-dropdown-name="status"
                         s-dropdown-t="S.N('#statusValue')">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                            状态(<span s-dropdown-role="title">可用</span>)
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li s-dropdown-val="1"><a href="javascript:;">可用</a></li>
                            <li s-dropdown-val="0" s-dropdown-title="禁用"><a href="javascript:;">不可用</a></li>
                            <li s-dropdown-val="-1"><a href="javascript:;">已删除</a></li>
                        </ul>
                    </div>
                </th>
                <th>

                    <div id="createTimeDropdown" class="dropdown" s="dropdown" s-dropdown-name="orderBy"
                         s-dropdown-t="S.N('#createTimeValue')">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                            创建时间(<span s-dropdown-role="title">默认</span>)
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li s-dropdown-val=""><a href="javascript:;">默认</a></li>
                            <li s-dropdown-val="createTime desc"><a href="javascript:;">降序</a></li>
                            <li s-dropdown-val="createTime asc"><a href="javascript:;">升序</a></li>
                        </ul>
                    </div>
                </th>
            </tr>
        </thead>
    </table>
    <script type="text/javascript">
        S.N("#statusDropdown,#createTimeDropdown").on("request.data", function(e, data){
            S.alert("当前筛选条件：" + JSON.stringify(data));
        });
    </script>
    <h4>源码</h4>
<pre>
&lt;form class="form-inline"&gt;
    &lt;label&gt;状态值：&lt;/label&gt;&lt;input type="text" class="form-control" id="statusValue" style="width: 150px;" /&gt;
    &lt;label&gt;创建时间值：&lt;/label&gt;&lt;input type="text" class="form-control" id="createTimeValue" style="width: 150px;" /&gt;
&lt;/form>
&lt;table class="table table-hover ecs-server-list" style="width: 500px;"&gt;
    &lt;thead&gt;
    &lt;tr&gt;
        &lt;th&gt;用户名&lt;/th&gt;
        &lt;th&gt;
            <span class="text-warning">&lt;div id="statusFilter" class="dropdown" s="dropdown"
                <abbr class="text-success" title="下拉项的属性名">s-dropdown-name="status"</abbr>
                <abbr class="text-success" title="下拉列表赋值的目标">s-dropdown-t="S.N('#statusValue')"</abbr>&gt;
                &lt;a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown"&gt;
                    状态(<abbr class="text-success" title="当前下拉项的title">&lt;span s-dropdown-role="title"&gt;可用&lt;/span&gt;</abbr>)
                    &lt;span class="caret"&gt;&lt;/span&gt;
                &lt;/a&gt;
                &lt;ul class="dropdown-menu" role="menu"&gt;
                    &lt;li <abbr class="text-success" title="下拉项的值">s-dropdown-val="1"</abbr>&gt;&lt;a href="javascript:;"&gt;可用&lt;/a&gt;&lt;/li&gt;
                    &lt;li <abbr class="text-success" title="下拉项的值">s-dropdown-val="0"</abbr> <abbr class="text-success" title="下拉项的title">s-dropdown-title="禁用"</abbr>&gt;&lt;a href="javascript:;"&gt;不可用&lt;/a&gt;&lt;/li&gt;
                    &lt;li <abbr class="text-success" title="下拉项的值">s-dropdown-val="-1"</abbr>&gt;&lt;a href="javascript:;"&gt;已删除&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;</span>
        &lt;/th&gt;
        &lt;th&gt;

            &lt;div id="statusFilter" class="dropdown" s="dropdown" s-dropdown-name="orderBy"
                <abbr class="text-success" title="下拉列表赋值的目标">s-dropdown-t="S.N('#createTimeValue')"</abbr>&gt;
                &lt;a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown"&gt;
                    创建时间(&lt;span s-dropdown-role="title"&gt;默认&lt;/span&gt;)
                    &lt;span class="caret"&gt;&lt;/span&gt;
                &lt;/a&gt;
                &lt;ul class="dropdown-menu" role="menu"&gt;
                    &lt;li s-dropdown-val=""&gt;&lt;a href="javascript:;"&gt;默认&lt;/a&gt;&lt;/li&gt;
                    &lt;li s-dropdown-val="createTime desc"&gt;&lt;a href="javascript:;"&gt;降序&lt;/a&gt;&lt;/li&gt;
                    &lt;li s-dropdown-val="createTime asc"&gt;&lt;a href="javascript:;"&gt;升序&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        &lt;/th&gt;
    &lt;/tr&gt;
    &lt;/thead&gt;
&lt;/table&gt;
&lt;script type="text/javascript"&gt;
    S.N("#statusDropdown,#createTimeDropdown").on("request.data", function(e, data){
        S.alert("当前筛选条件：" + JSON.stringify(data));
    });
&lt;/script&gt;    
</pre>
</div>