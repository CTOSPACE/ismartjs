<meta title="load()[window控件API]" description="load()，window控件的api，用于加载页面" />
<div>
    <h2 class="page-header">load(url,[arg1[,arg2[,...]]]) <small>window控件加载页面的方法</small></h2>
    <p>window控件通过此方法加载相应的模块页面</p>
    <h3 s-window-role="a" title="参数说明" id="param">参数说明：</h3>
    <ol>
        <li><code>url</code>：需要加载的页面路径，<strong>该路径是相对于当前浏览器地址栏的路径的</strong>。</li>
        <li><code>[arg1[,arg2[,...]]]</code>：传递给打开模块页面的参数，模块页面在 <code>meta</code> 中定义 <code>args='arg1[,arg2[,...]]'</code> 根据位置来接受参数。</li>
    </ol>
    <hr />
    <h3 id="load" s-window-role="a" title="加载页面">1. 加载页面 <small>点击按钮加载示例1页面到下面的div框中</small></h3>
    <p><input type="button" class="btn btn-primary btn-small" value="加载页面" s="click" s-click-action="S.S('#loadWindow1').load('widget/window/html/load1.html')" /></p>
    <div s="window" id="loadWindow1" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 500px; ">

    </div>
    <p>源码如下: </p>
<pre>
&lt;div s="window" id="loadWindow1" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 500px; " &gt;&lt;/div&gt;
&lt;input type="button" s="click" s-click-action="showLoad1()"  value="加载页面" class="btn btn-primary btn-small" /&gt;
&lt;script type="text/javascript"&gt;
    function showLoad1(){
        S.S('#loadWindow1').load('widget/window/html/load1.html');
    }
&lt;/script&gt;
</pre>
    <hr />
    <h3 id="loadWithArgs" s-window-role="a" title="使用参数加载页面">2. 使用参数加载页面 <small>加载页面的时候传递参数</small></h3>
    <p>使用方法 <code>S.S("#loadWindow2").load('widget/window/html/load1.html', "Hello", 'Smart RIA');</code> 加载页面。</p>
    <p><input type="button" class="btn btn-primary btn-small" value="使用参数加载页面" s="click" s-click-action="loadWindowWithArgs()" /></p>
    <div s="window" id="loadWindow2" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 500px; ">

    </div>
    <script type="text/javascript">
        function loadWindowWithArgs(){
            S.S("#loadWindow2").load('widget/window/html/load1.html', "Hello", 'Smart RIA');
        }
    </script>
    <p>源码如下: </p>
<pre>
&lt;div s="window" id="loadWindow1" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 500px; " &gt;&lt;/div&gt;
&lt;input type="button" s="click" s-click-action="loadWindowWithArgs()"  value="使用参数加载页面" class="btn btn-primary btn-small" /&gt;
&lt;script type="text/javascript"&gt;
    function loadWindowWithArgs(){
        <span class="text-info">S.S("#loadWindow2").load('widget/window/html/load1.html', "Hello", 'Smart RIA');</span>
    }
&lt;/script&gt;
</pre>
    <p><code>load1.html</code> 页面的源码如下：</p>
<pre>
<span class="text-info">&lt;meta args="arg1, arg2" /&gt;</span>
&lt;h4 class="page-header"&gt;load示例页面1&lt;/h4&gt;
&lt;p class="lead"&gt;你已经成功加载示例页面1。&lt;/p&gt;
&lt;script type="text/javascript"&gt;
    <span class="text-info">if(arg1 && arg2){
        S.N("#argsShow").html("接受到传递的参数：" + arg1+"," + arg2).fadeIn();
    }</span>
&lt;/script&gt;
</pre>
    <p>通过使用 <code>S.S("#loadWindow2").load('widget/window/html/load1.html', "Hello", 'Smart RIA');</code>
        打开load1.html，并且传递2个参数进去，在load1.html里面被 <code>meta</code> 中的 <code>args="arg1,arg2"</code> 来按位置接收。
    </p>
    <p class="text-info">定义 <code>args="arg1,arg2"</code> 后，在当前页面的闭包脚本中，则会有2个已经定义好的参数 <code>arg1</code> 和 <code>arg2</code>，
        参数值则是调用 <code>load</code> 方法中传递进来的参数值（参数值与除了url参数之外的其他参数根据位置一一对应）。
        上述调用中，<code>hello</code>，<code>Smart RIA</code> 的值分别赋值给了 <code>args="arg1,arg2"</code> 中的 <code>arg1</code> 和 <code>arg2</code></p>
    <hr />
    <h3 id="loadTemplate" s-window-role="a" title="定义模板页面">3. 页面中使用模板 <small>在加载的页面中使用模板，可以根据不同的参数显示不同的html</small></h3>
    <p>在 <code>meta</code> 中声明 <code>template="true"</code> 即定义了当前页面需要通过模板渲染得到最终的html。</p>
    <p><input s="click" s-click-action="loadTemplatePage(1)" type="button" class="btn btn-primary btn-small" value="加载页面(传递参数1)" />
        <input s="click" s-click-action="loadTemplatePage(2)" type="button" class="btn btn-primary btn-small" value="加载页面(传递参数2)" /></p>
    <div s="window" id="templateWindow" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 500px; ">

    </div>
    <script type="text/javascript">
        function loadTemplatePage(type){
            S.S("#templateWindow").load('widget/window/html/load-template.html', type);
        }
    </script>
    <p>源码如下: </p>
<pre>
&lt;div s="window" id="templateWindow" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 500px; " &gt;&lt;/div&gt;
&lt;input s="click" s-click-action="<span class="text-info">loadTemplatePage(1)</span>" type="button" class="btn btn-primary btn-small" value="加载页面(传递参数1)" /&gt;
&lt;input s="click" s-click-action="<span class="text-info">loadTemplatePage(2)</span>" type="button" class="btn btn-primary btn-small" value="加载页面(传递参数2)" /&gt;
&lt;script type="text/javascript"&gt;
    function <span class="text-info">loadTemplatePage(type)</span>{
        <span class="text-info">S.S("#templateWindow").load('widget/window/html/load-template.html', type);</span>
    }
&lt;/script&gt;
</pre>
    <p><code>load-template.html</code> 页面的源码如下：</p>
<pre>
&lt;meta <span class="text-info">args="arg1" template="true"</span> /&gt;
&lt;h4 class="page-header"&gt;模板页面示例，当load页面时传递的参数为1，则显示绿色方块，传递参数为2，则显示红色方面&lt;/h4&gt;
<span class="text-info">{% if(arg1 == 1){ %}
&lt;p class="lead" style="width: 100px; height: 100px; background: #0f0; color: #fff;"&gt;传递的参数为1&lt;/p&gt;
{% } else if(arg1 == 2){ %}
&lt;p class="lead" style="width: 100px; height: 100px; background: #da4f49; color: #fff;"&gt;传递的参数为2&lt;/p&gt;
{% } %}</span>
</pre>
    <hr />
    <h3 id="metaVar" s-window-role="a" title="Meta属性值变量">4. meta属性值变量 <small>把meta属性值声明成为变量，属性值来源于传递的参数。</small></h3>
    <p>在 <code>meta</code> 中把属性值设置为 <code>{%=xxx%}</code> ,即该属性的值是传递的参数 xxx 的值。</p>
    <p><input type="button" class="btn btn-primary btn-small" value="加载页面" s="click" s-click-action="loadMetaWindow()" /></p>
    <div s="window" id="loadWindowMeta" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 500px; height: 100px;">

    </div>
    <script type="text/javascript">
        function loadMetaWindow(){
            S.S("#loadWindowMeta").load('widget/window/html/load-meta.html', "Hello", 'Smart RIA');
        }
    </script>
    <p>源码如下: </p>
<pre>
&lt;div s="window" id="loadWindowMeta" style="padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 500px; " &gt;&lt;/div&gt;
&lt;input type="button" class="btn btn-primary btn-small" value="加载页面" s="click" s-click-action="loadMetaWindow()"  /&gt;
&lt;script type="text/javascript"&gt;
    function loadMetaWindow(){
        <span class="text-info">S.S("#loadWindowMeta").load('widget/window/html/load-meta.html', "Hello", 'Smart RIA');</span>
    }
&lt;/script&gt;
</pre>
    <p><code>load-meta.html</code> 页面的源码如下：</p>
<pre>
&lt;meta <span class="text-info">title="{%=arg1+','+arg2%}" args="arg1,arg2"</span> /&gt;
&lt;p class="lead"&gt;meta 的title值为传递进来的参数 &lt;code&gt;arg1+','+arg2&lt;/code&gt; 的值。&lt;/p&gt;
&lt;script type="text/javascript"&gt;
    <span class="text-info">var meta = this.dataTable("meta");
    setTimeout(function(){
        alert("meta的title值为：" + meta.title);
    }, 1);</span>
&lt;/script&gt;
</pre>
</div>