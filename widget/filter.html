<meta title="filter筛选器控件"/>
<div>
    <h2 class="page-header">filter筛选器控件</h2>

    <p class="lead">常出现于表格的表头中，用于条件筛选和排序下拉列表选择</p>
    <hr/>
    <h3>1. 控件定义</h3>

    <p><code>&lt;div s='filter' &gt;&lt;/div&gt;</code></p>
    <h4>配置参数</h4>
    <ol>
        <li><code>e</code>：要触发的事件，默认为 <code>request.data</code> 事件。</li>
        <li><code>dk</code>：触发事件的参数的key，如果没有配置，将相关的值直接作为参数进行trigger</li>
    </ol>
    <h4>其他配置</h4>
    <ol>
        <li><code>s-filter-val</code>： 声明过滤项，该属性的值是过滤项的值</li>
        <li><code>s-filter-title</code>： 声明过滤项的标题，如果为空，则取该元素的 <code>text()</code> 的值作为过滤项的标题</li>
        <li><code>s-filter-role='title'</code>： 声明显示当前过滤项标题的元素。</li>
    </ol>
    <p>通过配置子元素的 <code>s-filter-val</code> 属性来声明该元素为过滤器的过滤项，同时可以配置该元素的 <code>s-filter-title</code> 值来声明过滤项的title</p>
    <h3>2. 示例</h3>
    <table class="table table-hover ecs-server-list" style="width: 500px;">
        <thead>
            <tr>
                <th>用户名</th>
                <th>
                    <div id="statusFilter" class="dropdown" s="filter" s-filter-dk="status">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                            状态(<span s-filter-role="title">可用</span>)
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li s-filter-val="1"><a href="javascript:;">可用</a></li>
                            <li s-filter-val="0" s-filter-title="禁用"><a href="javascript:;">不可用</a></li>
                            <li s-filter-val="-1"><a href="javascript:;">已删除</a></li>
                        </ul>
                    </div>
                </th>
                <th>

                    <div id="statusFilter" class="dropdown" s="filter" s-filter-dk="orderBy">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown">
                            创建时间(<span s-filter-role="title">默认</span>)
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li s-filter-val=""><a href="javascript:;">默认</a></li>
                            <li s-filter-val="createTime desc"><a href="javascript:;">降序</a></li>
                            <li s-filter-val="createTime asc"><a href="javascript:;">升序</a></li>
                        </ul>
                    </div>
                </th>
            </tr>
        </thead>
    </table>
    <script type="text/javascript">
        S.S("#statusFilter").on("request.data", function(e, data){
            S.alert("当前筛选条件：" + JSON.stringify(data));
        });
    </script>
    <h4>源码</h4>
<pre>
&lt;table class="table table-hover ecs-server-list" style="width: 500px;"&gt;
    &lt;thead&gt;
    &lt;tr&gt;
        &lt;th&gt;用户名&lt;/th&gt;
        &lt;th&gt;
            <span class="text-warning">&lt;div id="statusFilter" class="dropdown" s="filter" <abbr class="text-success" title="过滤项的属性名">s-filter-dk="status"</abbr>&gt;
                &lt;a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown"&gt;
                    状态(<abbr class="text-success" title="当前过滤项的title">&lt;span s-filter-role="title"&gt;可用&lt;/span&gt;</abbr>)
                    &lt;span class="caret"&gt;&lt;/span&gt;
                &lt;/a&gt;
                &lt;ul class="dropdown-menu" role="menu"&gt;
                    &lt;li <abbr class="text-success" title="过滤项的值">s-filter-val="1"</abbr>&gt;&lt;a href="javascript:;"&gt;可用&lt;/a&gt;&lt;/li&gt;
                    &lt;li <abbr class="text-success" title="过滤项的值">s-filter-val="0"</abbr> <abbr class="text-success" title="过滤项的title">s-filter-title="禁用"</abbr>&gt;&lt;a href="javascript:;"&gt;不可用&lt;/a&gt;&lt;/li&gt;
                    &lt;li <abbr class="text-success" title="过滤项的值">s-filter-val="-1"</abbr>&gt;&lt;a href="javascript:;"&gt;已删除&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;</span>
        &lt;/th&gt;
        &lt;th&gt;

            &lt;div id="statusFilter" class="dropdown" s="filter" s-filter-dk="orderBy"&gt;
                &lt;a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown"&gt;
                    创建时间(&lt;span s-filter-role="title"&gt;默认&lt;/span&gt;)
                    &lt;span class="caret"&gt;&lt;/span&gt;
                &lt;/a&gt;
                &lt;ul class="dropdown-menu" role="menu"&gt;
                    &lt;li s-filter-val=""&gt;&lt;a href="javascript:;"&gt;默认&lt;/a&gt;&lt;/li&gt;
                    &lt;li s-filter-val="createTime desc"&gt;&lt;a href="javascript:;"&gt;降序&lt;/a&gt;&lt;/li&gt;
                    &lt;li s-filter-val="createTime asc"&gt;&lt;a href="javascript:;"&gt;升序&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        &lt;/th&gt;
    &lt;/tr&gt;
    &lt;/thead&gt;
&lt;/table&gt;
&lt;script type="text/javascript"&gt;
    S.S("#statusFilter").on(<abbr class="text-success" title="监听的事件">"request.data"</abbr>, function(e, data){
        S.alert("当前筛选条件：" + JSON.stringify(data));
    });
&lt;/script&gt;    
</pre>
</div>